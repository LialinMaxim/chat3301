{% extends "base.html" %}
{% import 'bootstrap/wtf.html' as wtf %}

{% block app_content %}

<div id="current_user" data-username='{{ current_user.username|tojson }}'></div>
<div id="pusher_key" data-key='{{ pusher_api.key|tojson }}'></div>
<div id="pusher_cluster" data-cluster='{{ pusher_api.cluster|tojson }}'></div>

<div>
    <!-- Chat Box-->
    <div id="content" class="px-4 py-5 chat-box bg-white">

        {% for message in messages %}
        {% include 'chat/message.html' %}
        {% endfor %}
    </div>

    <!-- Typing area -->
    <form action="#" class="bg-light">
        <div class="input-group ">
            <input id="chat_text" type="text" placeholder="Type a message" aria-describedby="button-addon2"
                   class="form-control rounded-0 border-0 py-4 bg-light">
            <div class="input-group-append">
                <button id="chat_btn" type="submit" class="btn btn-link"><i class="fa fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </form>
</div>


<script src="https://js.pusher.com/4.1/pusher.min.js"></script>
<script src="https://code.jquery.com/jquery-3.3.1.min.js"
        integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>

<script src="{{ url_for('static', filename='script.js') }}"></script>

{% endblock %}